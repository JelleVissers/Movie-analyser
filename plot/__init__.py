import matplotlib.pyplot as plt
import tkFileDialog
from scipy.signal import butter, lfilter, freqz
import numpy as np

figuurnummer = 0
fps = 0

test_list = [[682.2076416015625, 402.22296142578125, 4.166666666666667], [682.2071533203125, 402.2242126464844, 8.333333333333334], [700.4406127929688, 402.4653015136719, 12.5], [700.7134399414062, 402.71728515625, 16.666666666666668], [700.712646484375, 402.7133483886719, 20.833333333333336], [722.3890380859375, 402.7851257324219, 25.0], [722.3890380859375, 402.7851257324219, 29.166666666666668], [740.2434692382812, 403.3010559082031, 33.333333333333336], [750.18701171875, 403.47174072265625, 37.5], [750.20263671875, 403.4727783203125, 41.66666666666667], [756.5054931640625, 403.60943603515625, 45.833333333333336], [756.751220703125, 403.8502502441406, 50.0], [764.9562377929688, 403.1676330566406, 54.16666666666667], [779.503173828125, 404.13946533203125, 58.333333333333336], [779.503173828125, 404.1348571777344, 62.50000000000001], [787.7137451171875, 404.36883544921875, 66.66666666666667], [796.2344360351562, 405.1949768066406, 70.83333333333334], [796.2362670898438, 405.19342041015625, 75.0], [808.31396484375, 405.46673583984375, 79.16666666666667], [808.3157958984375, 405.4627685546875, 83.33333333333334], [815.5939331054688, 406.2158203125, 87.5], [821.3942260742188, 406.1380310058594, 91.66666666666667], [821.3986206054688, 406.1367492675781, 95.83333333333333], [825.4444580078125, 406.6364440917969, 100.0], [836.3571166992188, 408.79498291015625, 104.16666666666667], [836.3544311523438, 408.7895812988281, 108.33333333333334], [843.2960815429688, 409.99713134765625, 112.50000000000001], [843.2835083007812, 410.0055236816406, 116.66666666666667], [843.2890014648438, 410.0055236816406, 120.83333333333334], [848.6092529296875, 410.43536376953125, 125.00000000000001], [848.6092529296875, 410.43536376953125, 129.16666666666666], [849.4238891601562, 409.97003173828125, 133.33333333333334], [849.6966552734375, 409.1122131347656, 137.5], [849.6979370117188, 409.1099548339844, 141.66666666666669], [849.1040649414062, 408.5543212890625, 145.83333333333334], [849.103515625, 408.5588684082031, 150.0], [849.2645263671875, 409.0692138671875, 154.16666666666669], [846.9323120117188, 407.7513122558594, 158.33333333333334], [846.9346923828125, 407.75238037109375, 162.5], [846.1790771484375, 407.7129821777344, 166.66666666666669], [844.8277587890625, 407.2787780761719, 170.83333333333334], [844.7449340820312, 407.3143310546875, 175.0], [844.1687622070312, 406.97515869140625, 179.16666666666669], [843.0969848632812, 406.12957763671875, 183.33333333333334], [841.9091796875, 405.2596435546875, 187.5], [840.2387084960938, 403.5843200683594, 191.66666666666666], [840.234619140625, 403.5836486816406, 195.83333333333334], [840.234619140625, 403.5836486816406, 200.0], [838.1939697265625, 401.3236389160156, 204.16666666666669], [838.1957397460938, 401.328125, 208.33333333333334], [837.4494018554688, 400.5786437988281, 212.50000000000003], [836.3333740234375, 399.3541564941406, 216.66666666666669], [835.2601318359375, 398.3498840332031, 220.83333333333334], [835.2520751953125, 398.3424072265625, 225.00000000000003], [834.071533203125, 397.3402099609375, 229.16666666666669], [833.33740234375, 396.81805419921875, 233.33333333333334], [831.1302490234375, 395.39306640625, 237.50000000000003], [830.8616943359375, 395.0686950683594, 241.66666666666669], [829.4512329101562, 395.1043701171875, 245.83333333333334], [829.470458984375, 395.4715576171875, 250.00000000000003], [828.8675537109375, 393.75286865234375, 254.16666666666666], [827.6046752929688, 393.0028991699219, 258.3333333333333], [827.8389282226562, 392.1231384277344, 262.5], [825.4832153320312, 391.3861389160156, 266.6666666666667], [824.18115234375, 390.49285888671875, 270.83333333333337], [824.183837890625, 390.5000305175781, 275.0], [822.8920288085938, 389.50872802734375, 279.1666666666667], [822.0914916992188, 388.9761657714844, 283.33333333333337], [820.887451171875, 388.1722717285156, 287.5], [819.6177978515625, 387.3153991699219, 291.6666666666667], [818.76220703125, 386.7969055175781, 295.83333333333337], [818.7684936523438, 386.8000183105469, 300.0], [817.4989624023438, 386.0409851074219, 304.1666666666667], [816.3736572265625, 385.2975769042969, 308.33333333333337], [815.5346069335938, 384.7972412109375, 312.5], [814.2481079101562, 384.200927734375, 316.6666666666667], [813.11376953125, 383.5823974609375, 320.8333333333333], [813.1221313476562, 383.5851135253906, 325.0], [811.8910522460938, 383.10479736328125, 329.1666666666667], [811.5625610351562, 383.1047668457031, 333.33333333333337], [810.1229858398438, 382.231689453125, 337.5], [809.04345703125, 381.6728210449219, 341.6666666666667], [808.2227783203125, 381.4073791503906, 345.83333333333337], [808.2180786132812, 381.40936279296875, 350.0], [807.440673828125, 381.07403564453125, 354.1666666666667], [805.9640502929688, 380.18865966796875, 358.33333333333337], [805.2908935546875, 379.8774108886719, 362.5], [804.2728271484375, 379.1651611328125, 366.6666666666667], [803.1708374023438, 378.6822204589844, 370.83333333333337], [803.1589965820312, 378.6767883300781, 375.0], [801.5980834960938, 377.7408752441406, 379.1666666666667], [801.0935668945312, 377.7879638671875, 383.3333333333333], [799.949951171875, 377.3519592285156, 387.5], [798.7357177734375, 377.0166015625, 391.6666666666667], [797.9291381835938, 376.6666564941406, 395.83333333333337], [797.8416137695312, 376.8124694824219, 400.0], [796.6863403320312, 376.3738708496094, 404.1666666666667], [795.2554321289062, 375.6442565917969, 408.33333333333337], [794.5502319335938, 375.7554016113281, 412.50000000000006], [793.349853515625, 375.44122314453125, 416.6666666666667], [792.0631103515625, 375.14361572265625, 420.83333333333337], [792.06494140625, 375.134521484375, 425.00000000000006], [790.7769165039062, 374.8686828613281, 429.1666666666667], [789.948974609375, 374.6416015625, 433.33333333333337], [788.8287353515625, 374.3341979980469, 437.50000000000006], [787.4884643554688, 373.9314270019531, 441.6666666666667], [786.8650512695312, 374.021484375, 445.8333333333333], [786.8652954101562, 374.0257873535156, 450.00000000000006], [785.7340087890625, 373.8520202636719, 454.1666666666667], [784.7265014648438, 373.9920654296875, 458.33333333333337], [783.76123046875, 373.4587097167969, 462.5], [782.5961303710938, 373.2716979980469, 466.6666666666667], [781.5056762695312, 373.1378479003906, 470.83333333333337], [781.4999389648438, 373.1390380859375, 475.00000000000006], [780.3119506835938, 373.0726013183594, 479.1666666666667], [779.5629272460938, 373.0253601074219, 483.33333333333337], [778.3834838867188, 372.9266357421875, 487.50000000000006], [777.3695678710938, 372.9170837402344, 491.6666666666667], [776.6035766601562, 372.92236328125, 495.83333333333337], [776.579833984375, 372.9342041015625, 500.00000000000006], [775.3985595703125, 372.7820129394531, 504.1666666666667], [774.189453125, 372.7377014160156, 508.3333333333333], [773.4539794921875, 372.7497253417969, 512.5000000000001], [772.1863403320312, 372.7412414550781, 516.6666666666666], [770.9545288085938, 372.7297058105469, 520.8333333333333], [770.9572143554688, 372.7333068847656, 525.0], [769.685791015625, 372.7382507324219, 529.1666666666667], [768.9580688476562, 372.7370910644531, 533.3333333333334], [767.5978393554688, 373.0611572265625, 537.5], [766.6640625, 373.0033874511719, 541.6666666666667], [765.50439453125, 372.7690734863281, 545.8333333333335], [765.7394409179688, 373.0949401855469, 550.0], [764.4139404296875, 372.99407958984375, 554.1666666666667], [763.1885986328125, 373.4130554199219, 558.3333333333334], [762.4143676757812, 373.4618835449219, 562.5], [761.2327270507812, 373.6452331542969, 566.6666666666667], [760.0125732421875, 373.85418701171875, 570.8333333333334], [760.010498046875, 373.85748291015625, 575.0], [758.5300903320312, 373.7710266113281, 579.1666666666666], [758.0335693359375, 374.1650695800781, 583.3333333333334], [756.83984375, 374.4969787597656, 587.5], [755.6019897460938, 374.7101745605469, 591.6666666666667], [754.5470581054688, 374.49285888671875, 595.8333333333334], [754.5463256835938, 374.49249267578125, 600.0], [753.6328735351562, 375.11822509765625, 604.1666666666667], [752.503662109375, 375.37322998046875, 608.3333333333334], [751.8020629882812, 375.5850830078125, 612.5], [750.5850830078125, 375.8326721191406, 616.6666666666667], [748.762451171875, 377.04473876953125, 620.8333333333334], [749.3107299804688, 376.2261657714844, 625.0], [748.2852172851562, 376.34375, 629.1666666666667], [747.5546264648438, 376.5830078125, 633.3333333333334], [746.4529418945312, 376.8829345703125, 637.5], [745.33251953125, 377.25830078125, 641.6666666666666], [744.6282348632812, 377.5138244628906, 645.8333333333334], [744.6307373046875, 377.51104736328125, 650.0], [743.5088500976562, 377.84368896484375, 654.1666666666667], [742.4458618164062, 378.2173767089844, 658.3333333333334], [741.6934814453125, 378.49627685546875, 662.5], [740.6568603515625, 378.82672119140625, 666.6666666666667], [739.46044921875, 379.3733215332031, 670.8333333333334], [739.46044921875, 379.3733215332031, 675.0]]
test_list_2 =[[2167.324852167174, 1306.075221216956, 16.666666666666668], [2137.283473347509, 1303.6166643541912, 33.333333333333336], [2112.403926405796, 1306.1573214863622, 50.0], [2082.0610516570337, 1303.7772050014762, 66.66666666666667], [2082.109322658805, 1303.7880857600724, 83.33333333333334], [2056.068502026935, 1305.4798458897792, 100.0], [2025.7723156241484, 1302.9869651794434, 116.66666666666667], [1998.9391779345137, 1304.0475423945938, 133.33333333333334], [1975.2349507531455, 1307.9232686064965, 150.0], [1945.8036857427553, 1302.4494557048, 166.66666666666669], [1945.8094228700152, 1302.4286833474803, 183.33333333333334], [1918.0494423799737, 1300.971650855486, 200.0], [1890.8178710937502, 1306.163553193558, 216.66666666666669], [1864.042698172636, 1306.407677850058, 233.33333333333334], [1834.2751188056416, 1303.4424733006679, 250.00000000000003], [1810.3146992173306, 1306.2620735168457, 266.6666666666667], [1810.3146992173306, 1306.2620735168457, 283.33333333333337], [1782.549970759902, 1307.470629048902, 300.0], [1758.3185213665631, 1307.1969285122184, 316.6666666666667], [1731.232356581577, 1306.3709800187933, 333.33333333333337], [1704.7307852811593, 1306.2284420811854, 350.0], [1676.5826584572017, 1304.2961182705192, 366.6666666666667], [1676.5826584572017, 1304.2961182705192, 383.3333333333333], [1652.2562497161157, 1306.8051222867746, 400.0], [1626.6515496719717, 1307.6648011318473, 416.6666666666667], [1600.3208062815113, 1307.7058512665506, 433.33333333333337], [1574.350512748541, 1307.7307780953342, 450.00000000000006], [1548.5065349312717, 1307.8098119691363, 466.6666666666667], [1548.507524091144, 1307.8220775515535, 483.33333333333337], [1521.9805313820063, 1306.6808838068055, 500.00000000000006], [1495.1627256703932, 1308.1961778152822, 516.6666666666666], [1471.0220811533375, 1305.1334421024767, 533.3333333333334], [1450.0614867099496, 1308.253845835841, 550.0], [1424.9281213449879, 1306.671882451967, 566.6666666666667], [1424.912789366966, 1306.6538797422897, 583.3333333333334], [1401.8342058048693, 1306.7549718812456, 600.0], [1379.1808620719023, 1306.8000775714254, 616.6666666666667], [1356.4017961191578, 1307.3074176699618, 633.3333333333334], [1334.444820936336, 1307.3947604866917, 650.0], [1310.8694812863373, 1308.413595155228, 666.6666666666667], [1310.8790761370992, 1308.4136940712153, 683.3333333333334], [1290.5640074264172, 1308.2699691417606, 700.0], [1270.298594541328, 1308.0858864895133, 716.6666666666667], [1250.8430068437444, 1307.750363460807, 733.3333333333334], [1228.0274408917096, 1303.9142036437988, 750.0], [1215.1017920915472, 1306.2574244654456, 766.6666666666666], [1215.124344936637, 1306.2364542761516, 783.3333333333334], [1194.0668128257576, 1305.2134651361512, 800.0], [1177.6912711387458, 1304.9974326200265, 816.6666666666667], [1161.5106928625773, 1302.5931806342546, 833.3333333333334], [1144.2504465857219, 1301.1691860819972, 850.0000000000001], [1127.907942838447, 1300.13284328372, 866.6666666666667], [1127.892017364502, 1300.1391739069031, 883.3333333333334], [1111.9941409798557, 1299.4177796119868, 900.0000000000001], [1100.8358241236488, 1301.8287578848906, 916.6666666666667], [1089.1872796346975, 1302.3015763038813, 933.3333333333334], [1075.3902799029684, 1299.6648717481037, 950.0000000000001], [1068.5034521235978, 1302.852637268776, 966.6666666666667], [1068.5034521235978, 1302.852637268776, 983.3333333333334], [1057.368182692417, 1301.5319110071937, 1000.0000000000001], [1046.6558780226596, 1300.0455993829773, 1016.6666666666666], [1040.379955380462, 1301.6353771298432, 1033.3333333333333], [1033.0130883150323, 1301.6234082953874, 1050.0], [1022.8555045016977, 1298.3772823422455, 1066.6666666666667], [1023.846642693808, 1299.217079073884, 1083.3333333333335], [1018.7001427938773, 1300.2471901649653, 1100.0], [1013.1286998127782, 1300.1148405740428, 1116.6666666666667], [1006.2130874811218, 1298.2290072773778, 1133.3333333333335], [999.8828599619311, 1296.0916306251704, 1150.0], [996.2438397074856, 1296.4239883422852, 1166.6666666666667], [996.2445321193962, 1296.425175334132, 1183.3333333333335], [992.7907815090447, 1296.746355544689, 1200.0], [988.1873303790426, 1295.0387688570245, 1216.6666666666667], [984.5072599898938, 1293.1060493824095, 1233.3333333333335], [980.374747875125, 1290.9186212406603, 1250.0], [977.8900771917299, 1289.8227310180664, 1266.6666666666667], [977.8776137773382, 1289.779010151708, 1283.3333333333333], [975.7706043332123, 1288.5268326692803, 1300.0], [972.2988510131837, 1286.4566199724065, 1316.6666666666667], [971.4595488614815, 1286.3363381319268, 1333.3333333333335], [968.2862250749456, 1283.7131850664007, 1350.0], [968.0702914748082, 1283.1788409033488, 1366.6666666666667], [968.0948226396429, 1283.190216241881, 1383.3333333333335], [965.3382319073345, 1280.1006742965344, 1400.0], [963.4062048446301, 1278.0956472352495, 1416.6666666666667], [963.2559514600177, 1276.874529372814, 1433.3333333333335], [961.1217401194018, 1274.4391188510629, 1450.0], [958.3508065689442, 1271.1808262314908, 1466.6666666666667], [958.4220260797546, 1271.156690730605, 1483.3333333333335], [957.0726141818735, 1268.5930850893953, 1500.0], [954.6298838770667, 1266.9616637119027, 1516.6666666666667], [951.6954421997071, 1263.3144334305166, 1533.3333333333333], [952.155401540357, 1261.7554185556812, 1550.0], [951.0786021032999, 1259.114361696465, 1566.6666666666667], [951.0625777133677, 1259.0342397468035, 1583.3333333333335], [948.5904693603517, 1256.0678482055664, 1600.0], [948.8274720657704, 1254.9564281729765, 1616.6666666666667], [949.9999232624853, 1254.4133794030479, 1633.3333333333335], [947.3183108485023, 1250.7362764935162, 1650.0000000000002], [946.5410290207974, 1248.5374730132348, 1666.6666666666667], [946.5567566627681, 1248.5934594620107, 1683.3333333333335], [945.8443637226903, 1246.0196654741155, 1700.0000000000002], [944.7668718737226, 1243.3464609190476, 1716.6666666666667], [944.0718881473986, 1240.70223874824, 1733.3333333333335], [942.1331347975621, 1237.2341453197391, 1750.0000000000002], [942.7792540261912, 1235.329419069512, 1766.6666666666667], [942.0266022793082, 1232.6920221018238, 1783.3333333333333], [942.0237337156784, 1232.6774814517, 1800.0000000000002], [941.4019478199094, 1230.2018121231436, 1816.6666666666667], [939.0246009826661, 1226.3147105727085, 1833.3333333333335], [939.7821985289108, 1224.6265114185423, 1850.0], [939.0134234761083, 1222.095350221146, 1866.6666666666667], [938.3836253853732, 1219.259824531023, 1883.3333333333335], [938.3986606154332, 1219.2722879454147, 1900.0000000000002], [937.4599478965582, 1216.4211335293082, 1916.6666666666667], [937.2027663297432, 1212.913176957951, 1933.3333333333335], [937.8509627941044, 1212.0385617988054, 1950.0000000000002], [934.8190888693167, 1209.0868098236795, 1966.6666666666667], [933.9326037917027, 1206.8902814111045, 1983.3333333333335], [933.9064899710722, 1206.939046992812, 2000.0000000000002], [933.0151580100836, 1204.4847435174988, 2016.6666666666667], [934.5310455144838, 1201.6499102392863, 2033.3333333333333], [931.4001566864724, 1200.008992927019, 2050.0000000000005], [930.5031865142113, 1197.866373727488, 2066.6666666666665], [929.7262014344682, 1195.857488942701, 2083.333333333333], [929.7262014344682, 1195.857488942701, 2100.0], [930.0464914011401, 1194.8653615907183, 2116.666666666667], [928.1766824944075, 1191.7623670711075, 2133.3333333333335], [927.3398532423863, 1189.3386286358502, 2150.0], [926.5801784604096, 1187.1000609286996, 2166.666666666667], [926.0474169531534, 1184.6089607061342, 2183.333333333334], [926.0518681725791, 1184.6345799468286, 2200.0], [925.5752909460733, 1182.6138252435728, 2216.666666666667], [924.7013681988384, 1180.0241057817327, 2233.3333333333335], [923.8764088652855, 1177.7089771004612, 2250.0], [923.0313695863236, 1175.2858321611272, 2266.666666666667], [922.2882137742154, 1172.8319243497629, 2283.3333333333335], [922.3357923640762, 1172.8918674380282, 2300.0], [921.408257151759, 1170.7902983732004, 2316.6666666666665], [920.5386867079625, 1168.788040959558, 2333.3333333333335], [919.7557666689851, 1166.293379761452, 2350.0], [919.0129076048386, 1163.9583689667459, 2366.666666666667], [918.5963723825854, 1161.4926901529002, 2383.3333333333335], [918.5925146590832, 1161.5030763315601, 2400.0], [917.7224496353505, 1159.863444927127, 2416.666666666667], [916.9504103549692, 1158.018562849178, 2433.3333333333335], [916.2910363840502, 1155.7922607244448, 2450.0], [915.0623019905978, 1154.0923894837847, 2466.666666666667], [914.3059903521871, 1152.4072567252226, 2483.3333333333335], [914.2454537679984, 1152.3636347748513, 2500.0], [913.4296936212585, 1149.938214767811, 2516.666666666667], [914.5481366889422, 1149.9311917327173, 2533.3333333333335], [912.0820622111477, 1146.5359004708225, 2550.0], [911.3087370229323, 1144.810805653417, 2566.6666666666665], [910.3985121083815, 1143.0971850905307, 2583.3333333333335], [910.3696286401084, 1143.1260685588038, 2600.0], [909.743094776952, 1141.5367853918742, 2616.666666666667], [909.1533576610477, 1140.000422278116, 2633.3333333333335], [908.5732153959053, 1138.1397136422092, 2650.0], [907.7521137858547, 1136.211544303007, 2666.666666666667], [906.8935230166413, 1134.647187964861, 2683.3333333333335], [906.8891707132029, 1134.6477814607842, 2700.0], [906.0161382098531, 1132.4593641591628, 2716.666666666667], [905.1679336192997, 1130.5474170418674, 2733.3333333333335], [904.4308116824128, 1129.015999727471, 2750.0], [903.6980420489645, 1127.373499759408, 2766.666666666667], [902.6942426104879, 1125.6656163237817, 2783.3333333333335], [902.6967155101688, 1125.6508778416835, 2800.0], [902.4361707997878, 1123.9512044329977, 2816.6666666666665], [901.8046911372695, 1122.1250174766365, 2833.3333333333335], [901.2334513109785, 1120.4480947450152, 2850.0], [901.0214743503305, 1119.0139118460722, 2866.666666666667], [900.3030475350314, 1117.4171110641125, 2883.3333333333335], [900.2877155570097, 1117.4166164841763, 2900.0], [899.884731825008, 1115.9089390067168, 2916.666666666667], [899.3225922695426, 1114.572584019151, 2933.3333333333335], [898.695069246514, 1113.5228875625967, 2950.0], [898.3857589544252, 1112.0444892173591, 2966.666666666667], [897.5012521965559, 1110.7568008955136, 2983.3333333333335], [897.4895801100621, 1110.742754825326, 3000.0], [896.8975679264513, 1109.5592250380405, 3016.666666666667], [896.5585828381916, 1108.8542507970058, 3033.3333333333335], [895.5286695790846, 1107.196418850921, 3050.0], [894.8067807042322, 1106.1741221228312, 3066.6666666666665], [894.5163633657057, 1105.1828850147338, 3083.3333333333335], [894.5331790835359, 1105.137086912643, 3100.0], [894.2416736691498, 1104.0907535996548, 3116.666666666667], [894.2416736691498, 1104.0907535996548, 3133.3333333333335]]

class grafiek:
    def __init__(self,data,outputfile):
        self.place_list = data
        self.output = outputfile
        self.dpi = 1000
        self.ext = ".png"

    def plot(self,signal,name):
        global figuurnummer
        x = []
        y = []
        t = []

        for points in signal:
            x = x + [(points[0]-signal[0][0])/1000]
            y = y + [(-points[1]+signal[0][1])/1000]
            t = t + [(points[2])]

        fig = plt.figure(figuurnummer)
        plt.subplot(211)
        plt.plot(t,x,"r",label="Position")
        plt.legend()

        plt.subplot(212)
        plt.plot(t,y,"b",label="Y position")
        plt.legend()

        fig.savefig(self.output + "/"+str(name)+self.ext, dpi=self.dpi)

        figuurnummer = figuurnummer+1

    def draw_path(self):
        global figuurnummer
        x = []
        y = []

        for points in self.place_list:
            x = x + [(points[0]-self.place_list[0][0])/1000]
            y = y + [(-points[1]+self.place_list[0][1])/1000]

        fig = plt.figure(figuurnummer)
        plt.plot(x,y,label="X position")
        plt.legend()
        fig.savefig(self.output+"/path"+self.ext,dpi=self.dpi)

    def plot_position(self):
        self.plot(self.place_list,"position")

    def speed(self):
        global figuurnummer

        delta_x = []
        delta_y = []
        time    = []

        for points in self.place_list:
            delta_x= delta_x + [(points[0]-self.place_list[0][0])]
            delta_y= delta_y + [(-points[1]+self.place_list[0][1])]
            time   = time    + [points[2]]

        delta_x = np.diff(delta_x)
        delta_y = np.diff(delta_y)
        time.pop(-1)

        print len(delta_x)
        print len(delta_x)

        n_delta_x = remove_rage(delta_x,1,-1)
        n_delta_y = remove_rage(delta_y, 1, -1)

        print len(delta_x)
        print len(delta_y)
        print len(time)

        fig = plt.figure(figuurnummer)
        plt.subplot(211)
        plt.plot(time,delta_x,'ro',time,n_delta_x,'bo',label="X-speed")
        plt.legend()

        plt.subplot(212)
        plt.plot(time,delta_y, 'ro',time,n_delta_y, 'bo',label="Y-speed")
        plt.legend()

        fig.savefig(self.output + "/speed"+self.ext, dpi=self.dpi)

        figuurnummer +=1

    def acceleration(self):
        global figuurnummer

        delta_x = []
        delta_y = []
        time    = []

        for points in self.place_list:
            delta_x= delta_x + [(points[0]-self.place_list[0][0])]
            delta_y= delta_y + [(-points[1]+self.place_list[0][1])]
            time   = time    + [points[2]]

        delta_x = np.diff(delta_x,2)
        delta_y = np.diff(delta_y,2)
        time.pop(-1)
        time.pop(-1)

        fig = plt.figure(figuurnummer)
        plt.subplot(211)
        plt.plot(time,delta_x,"r",label="X-acceleration")
        plt.legend()

        plt.subplot(212)
        plt.plot(time,delta_y,"b",label="Y-acceleration")
        plt.legend()

        fig.savefig(self.output + "/acceleration"+self.ext, dpi=self.dpi)

        figuurnummer +=1
    def speed_filter(self):
        global figuurnummer
        global fps

        delta_x = []
        delta_y = []
        time    = []

        for points in self.place_list:
            delta_x= delta_x + [(points[0]-self.place_list[0][0])]
            delta_y= delta_y + [(-points[1]+self.place_list[0][1])]
            time   = time    + [points[2]]

        order = 2
        cutoff = 2

        #delta_x_filter = butter_lowpass_filter(delta_x, cutoff, fps*2,order)
        #delta_y_filter = butter_lowpass_filter(delta_y, cutoff, fps*2, order)

        delta_x_filter = np.diff(delta_x)
        delta_y_filter = np.diff(delta_y)

        delta_x_filter = butter_lowpass_filter(delta_x, cutoff, fps * 2, order)
        delta_y_filter = butter_lowpass_filter(delta_y, cutoff, fps * 2, order)

        print len(time)
        print len(delta_x_filter)
        print len(delta_y_filter)

        fig = plt.figure(figuurnummer)
        plt.subplot(211)
        plt.plot(time,delta_x_filter, 'ro',label="X-speed")
        plt.legend()

        plt.subplot(212)
        plt.plot(time,delta_y_filter, 'ro',label="Y-speed")
        plt.legend()

        fig.savefig(self.output + "/speed filterd"+self.ext, dpi=self.dpi)
        figuurnummer +=1
    def acceleration_filter(self):
        global figuurnummer
        global fps

        delta_x = []
        delta_y = []
        time    = []

        for points in self.place_list:
            delta_x= delta_x + [(points[0]-self.place_list[0][0])]
            delta_y= delta_y + [(-points[1]+self.place_list[0][1])]
            time   = time    + [points[2]]

        order = 2
        cutoff = 2

        #delta_x_filter = butter_lowpass_filter(delta_x, cutoff, fps*2,order)
        #delta_y_filter = butter_lowpass_filter(delta_y, cutoff, fps*2, order)

        delta_x_filter = np.diff(delta_x,2)
        delta_y_filter = np.diff(delta_y,2)

        delta_x_filter = butter_lowpass_filter(delta_x, cutoff, fps * 2, order)
        delta_y_filter = butter_lowpass_filter(delta_y, cutoff, fps * 2, order)

        print len(time)
        print len(delta_x_filter)
        print len(delta_y_filter)

        fig = plt.figure(figuurnummer)
        plt.subplot(211)
        plt.plot(time,delta_x_filter,"r",label="X-acceleration")
        plt.legend()

        plt.subplot(212)
        plt.plot(time,delta_y_filter,"b",label="Y-acceleration")
        plt.legend()

        fig.savefig(self.output + "/acceleration filterd"+self.ext, dpi=self.dpi)
        figuurnummer += 1
    def plot_show(self):
        plt.show()


def main(frame):
    global fps
    fps = frame

    output = '/Users/jellevissers/Desktop/minor/test'
    graph = grafiek(test_list_2,output)
    graph.plot(test_list_2,"position")
    graph.speed()
    #graph.acceleration()
    #graph.speed_filter()
    #graph.acceleration_filter()
    graph.draw_path()
    graph.plot_show()


if __name__ == '__main__':
    main(60)
